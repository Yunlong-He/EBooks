# 时间序列模型

## 时间序列的基本特征

时间序列基本特征包括：趋势性，序列相关性，随机性。
趋势性是指序列整体上呈现单调性，如平稳、上涨或下跌。
序列相关性是指当期的序列值和前期某个或某些序列值线性相关。
随机性是指序列在一定程度上呈现不确定性，由于模型并不能捕捉到现实世界中的所有特征，总会有一些噪声的存在，这些噪声我们称之为白噪声。

时间序列模型预测方法包括算数平均法，移动平均法，加权移动平均，指数平滑法，自回归和移动平均法（ARIMA）。

以月度指标预测为例，下面是几个主要的时间序列模型：
算数平均法就是使用前12个月的算数平均数作为13期的预测值。
移动平均法认为远期的数据对于预测未来的数值价值不大，因此选用最近m个月的算数平均数作为预测值。
加权移动平均法在移动平均法的基础上，为每一期的数值加上了权重。
指数平滑法则对每一期的权重进行平滑处理，

## 时间序列的差分
T时刻的时间序列值表示为$X_T$。一个时间序列可以表述为$\{X_T|t=1,2,3...n\}$ 。T-1时刻的序列值表述为$X_{T-1}$,或者$X[t-1]$。

时间序列的差分：
一阶差分：$\nabla X_T =  X_{T} - X_{T-1}$
二阶差分：$\nabla X_T - \nabla X_{T-1} = (X_{T} - X_{T-1}) - (X_{T-1} - X_{T-2})$ 
K步差分：$ X_{T} - X_{T-K}$

一阶差分可以剔除趋势型的影响，如下所示，蓝色的上涨趋势曲线在进行一阶差分后变成了比较平稳的黄色线。一般来说，二阶差分后的序列基本会变得水平。


## 自回归和移动平均（ARIMA）
ARMA模型是平稳的时间序列模型，在建模前必须去除趋势性。




```mermaid
stateDiagram
    [*] --> Still
    Still --> [*]

    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]
```


## 参考
- https://zhuanlan.zhihu.com/p/127981316